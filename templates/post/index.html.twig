{% extends 'base.html.twig' %}

{% block title %}Inicio{% endblock %}

{% block body %}
<h2>Publicaciones recientes</h2>
<div style="display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;">
  {% for post in posts %}
    <div style="background:#232323;padding:1rem;border-radius:1rem;max-width:350px;flex:1 1 350px;box-shadow:0 2px 8px #0002;">
      <h4>{{ post.title }}</h4>
      <p style="color:#aaa;font-size:0.9em;">Por {{ post.user.username }}</p>
      {% if post.media %}
        <img src="/uploads/posts/{{ post.media }}" alt="Imagen del post" style="max-width:100%;border-radius:0.5rem;" />
      {% endif %}
      <p>{{ post.content|slice(0,120) }}{% if post.content|length > 120 %}...{% endif %}</p>
      <div style="margin:0.5rem 0;color:#e74c3c;font-weight:bold;">♥ {{ post.likes|length }} Me gusta</div>
      <a href="{{ path('post_show', {'id': post.id}) }}" class="btn btn-sm btn-info">Ver</a>
    </div>
  {% else %}
    <p style="color:#aaa;">No hay publicaciones aún.</p>
  {% endfor %}
</div>
{% endblock %}
