{# templates/security/register.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Register – PicanCode{% endblock %}

{% block stylesheets %}
  {{ parent() }}
{% endblock %}

{% block body %}
<div class="flex flex-col h-full overflow-hidden">
  <div class="flex-grow flex items-center justify-center px-4 py-12">
    <div class="w-full max-w-md bg-gray-800 p-8 rounded-2xl shadow-lg mt-8 space-y-6">
      <h1 class="text-4xl font-extrabold text-center text-white mb-4">
        Pican<span class="text-red-500">Code</span>
      </h1>

      {{ form_start(registrationForm, { attr: { enctype: 'multipart/form-data', class: 'space-y-4' } }) }}

        <div>
          {{ form_label(registrationForm.username, 'Usuario', { label_attr: { class: 'block text-sm font-medium mb-1 text-white' } }) }}
          {{ form_widget(registrationForm.username, { attr: {
            class: 'w-full px-4 py-2 bg-gray-700 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500'
          } }) }}
          {{ form_errors(registrationForm.username) }}
        </div>

        <div>
          {{ form_label(registrationForm.email, 'Email', { label_attr: { class: 'block text-sm font-medium mb-1 text-white' } }) }}
          {{ form_widget(registrationForm.email, { attr: {
            class: 'w-full px-4 py-2 bg-gray-700 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500'
          } }) }}
          {{ form_errors(registrationForm.email) }}
        </div>

        <div>
          {{ form_label(registrationForm.plainPassword.first, 'Contraseña', { label_attr: { class: 'block text-sm font-medium mb-1 text-white' } }) }}
          {{ form_widget(registrationForm.plainPassword.first, { attr: {
            class: 'w-full px-4 py-2 bg-gray-700 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500'
          } }) }}
          {{ form_errors(registrationForm.plainPassword.first) }}
        </div>

        <div>
          {{ form_label(registrationForm.plainPassword.second, 'Repite Contraseña', { label_attr: { class: 'block text-sm font-medium mb-1 text-white' } }) }}
          {{ form_widget(registrationForm.plainPassword.second, { attr: {
            class: 'w-full px-4 py-2 bg-gray-700 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500'
          } }) }}
          {{ form_errors(registrationForm.plainPassword.second) }}
        </div>

        <div>
          {{ form_label(registrationForm.avatar, 'Avatar (opcional)', { label_attr: { class: 'block text-sm font-medium mb-1 text-white' } }) }}
          {{ form_widget(registrationForm.avatar, { attr: {
            class: 'w-full text-sm text-gray-300 file:bg-gray-700 file:px-4 file:py-2 file:rounded-full file:border-0 file:text-white file:cursor-pointer hover:file:bg-gray-600'
          } }) }}
          {{ form_errors(registrationForm.avatar) }}
        </div>

        <div>
          {{ form_label(registrationForm.bio, 'Biografía', { label_attr: { class: 'block text-sm font-medium mb-1 text-white' } }) }}
          {{ form_widget(registrationForm.bio, { attr: {
            class: 'w-full px-4 py-2 bg-gray-700 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500',
            rows: 4,
            placeholder: 'Cuéntanos algo sobre ti…'
          } }) }}
          {{ form_errors(registrationForm.bio) }}
        </div>

        <button
          type="submit"
          class="w-full py-3 bg-red-500 hover:bg-red-600 rounded-full font-semibold text-lg text-white transition"
        >
          Registrarse
        </button>

      {{ form_end(registrationForm) }}

      <p class="text-center text-sm text-gray-400">
        ¿Ya tienes cuenta?
        <a href="{{ path('app_login') }}" class="text-red-500 hover:underline">
          Inicia Sesión
        </a>
      </p>
    </div>
  </div>
</div>
{% endblock %}
