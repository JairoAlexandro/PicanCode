{# templates/security/login.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Login - PicanCode{% endblock %}

{% block stylesheets %}
<style>
  body { background: #1b1b1b; }
  .login-container {
    max-width: 400px;
    margin: 2rem auto;
    background: #2b2b2b;
    padding: 2rem;
    border-radius: 1rem;
    color: #fff;
  }
  .logo {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 1.5rem;
  }
  .logo .red { color: #e74c3c; }
  .login-container label { 
    display: block; 
    margin-top: 1rem; 
    font-weight: bold; 
  }
  .login-container input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: none;
    border-radius: 2rem;
    background: #3b3b3b;
    color: #fff;
    margin-top: 0.5rem;
  }
  .login-container button {
    width: 100%;
    padding: 0.75rem;
    margin-top: 1.5rem;
    background: #e74c3c;
    border: none;
    border-radius: 2rem;
    color: white;
    font-size: 1.1rem;
    cursor: pointer;
  }
  .login-container button:hover {
    background: #c0392b;
  }
  .error-message {
    color: #e74c3c;
    background: rgba(231, 76, 60, 0.1);
    padding: 0.75rem;
    border-radius: 0.5rem;
    margin-top: 1rem;
  }
  .register-link {
    text-align: center;
    margin-top: 1rem;
  }
  .register-link a {
    color: #e74c3c;
    text-decoration: none;
  }
  .register-link a:hover {
    text-decoration: underline;
  }
</style>
{% endblock %}

{% block body %}
<div class="login-container">
  <div class="logo">
    Pican<span class="red">Code</span>
  </div>

  <form action="{{ path('app_login') }}" method="post">
    <label for="username">Usuario</label>
    <input type="text" id="username" name="_username" value="{{ last_username }}" required autofocus placeholder="Usuario" />

    <label for="password">Contraseña</label>
    <input type="password" id="password" name="_password" required />

    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

    {% if error %}
      <div class="error-message">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}

    <button type="submit">Iniciar Sesión</button>
  </form>

  <div class="register-link">
    ¿No tienes cuenta? <a href="{{ path('app_register') }}">Regístrate aquí</a>
  </div>
</div>
{% endblock %}
